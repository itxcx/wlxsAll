<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>未来鲜森-供应商管理</title>
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.css">
        <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/theme.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/premium.css">
        <script src="lib/jquery-1.11.1.min.js" type="text/javascript"></script>
        <script src="lib/jQuery-Knob/js/jquery.knob.js" type="text/javascript"></script>
        <script src="lib/bootstrap/js/bootstrap.js"></script>
        <script src="lib/highcharts.js"></script>
        <script src="lib/highcharts-more.js"></script>
        <script src="data/commonData.json" type="text/plain"></script>
        <script src="config/config.js"></script>
    </head>
    <body class="theme-blue">
    <script type="text/javascript">
        $(function() {
            $(".knob").knob();
            var match = document.cookie.match(new RegExp('color=([^;]+)'));
            if(match) var color = match[1];
            if(color) {
                $('body').removeClass(function (index, css) {
                    return (css.match (/\btheme-\S+/g) || []).join(' ')
                })
                $('body').addClass('theme-' + color);
            }
            $('[data-popover="true"]').popover({html: true});
            var uls = $('.sidebar-nav > ul > *').clone();
            uls.addClass('visible-xs');
            $('#main-menu').append(uls.clone());
        });
    </script>
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
  

  <!--[if lt IE 7 ]> <body class="ie ie6"> <![endif]-->
  <!--[if IE 7 ]> <body class="ie ie7 "> <![endif]-->
  <!--[if IE 8 ]> <body class="ie ie8 "> <![endif]-->
  <!--[if IE 9 ]> <body class="ie ie9 "> <![endif]-->
  <!--[if (gt IE 9)|!(IE)]><!--> 
   
  <!--<![endif]-->
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="companyLogo">
            <span class="navbar-brand">
              <a href="http://www.weilaixiansen.com/">未来鲜森</a>
            </span>
          </div>
        </div>
        <div class="navbar-collapse collapse" >
          <ul id="main-menu" class="nav navbar-nav navbar-right">
            <li class="dropdown hidden-xs">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-user padding-right-small"></span>
					<span class="acountUser">wlxsAdmin</span>
                    <i class="fa fa-caret-down"></i>
                </a>
              <ul class="dropdown-menu">
                <li class="dropdown-header">个人资料</li>
                <li><a tabindex="-1" href="reset-password.html">修改密码</a></li>
                <li><a tabindex="-1" href="notice.html">通知消息</a></li>
                <li class="divider"></li>
                <li>
                    <a tabindex="-1" href="sign-in.html">退出</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
    </div>
    <!-- left scrollbar -->
    <div class="sidebar-nav" id="leftNav">
        <ul>

        </ul>
    </div>
    <div class="content">
        <div class="header">
            <h1 class="page-title">主页</h1>
            <ul class="breadcrumb">
                <li><a href="index.html">主页</a></li>
            </ul>
        </div>
        <div class="main-content">
            <div class="panel panel-default">
                <a href="#page-stats" class="panel-heading" data-toggle="collapse">统计数据</a>
                <div id="page-stats" class="panel-collapse panel-body collapse in">
                    <div>
                        <select name="pie" id="pie1" style="position: absolute;width: 12vh;z-index: 999">
                            <option value="365">最近一年</option>
                            <option value="30">最近一月</option>
                            <option value="7" selected>最近一周</option>
                        </select>
                        <div id="container1" class="col-md-6 col-xs-6"></div>
                    </div>
                    <div>
                        <div id="container2" class="col-md-6 col-xs-6"></div>
                    </div>
                    <div class="col-md-12" style="border: 3px solid pink;">
                        <select name="c2" id="multiple" multiple style="width: 15vh;">
                            <option value="三明治">三明治</option>
                            <option value="蛋糕">蛋糕</option>
                            <option value="水果">水果</option>
                            <option value="红牛">红牛</option>
                            <option value="果汁">果汁</option>
                            <option value="盒饭">盒饭</option>
                        </select>
                        <button class="mulSubmit">查询</button>
                        <div id="container3" class="col-md-12 col-xs-12"></div>
                    </div>
                    <div id="container4" class="col-md-12 col-xs-12"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-5 col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading no-collapse">历史上货数量<span class="label label-warning">+10</span></div>
                        <table class="table table-bordered table-striped">
                          <thead>
                            <tr>
                              <th>月份</th>
                              <th>上货人数</th>
                              <th>上货人次</th>
                              <th>上货数量</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>2017-11</td>
                              <td>20</td>
                              <td>130</td>
                              <td>1710</td>
                            </tr>
                            <tr>
                              <td>2017-10</td>
                              <td>2089</td>
                              <td>130</td>
                              <td>1710</td>
                            </tr>
                            <tr>
                              <td>2017-09</td>
                              <td>2089</td>
                              <td>130</td>
                              <td>1710</td>
                            </tr>
                            <tr>
                              <td>2017-08</td>
                              <td>2089</td>
                              <td>130</td>
                              <td>1710</td>
                            </tr>
                          </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-sm-5 col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading no-collapse">历史上货次数<span class="label label-warning">+10</span></div>
                        <table class="table table-bordered table-striped">
                          <thead>
                            <tr>
                              <th>月份</th>
                              <th>上货次数</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>2017-11</td>
                              <td>2100</td>
                            </tr>
                            <tr>
                              <td>2017-10</td>
                              <td>2089</td>
                            </tr>
                            <tr>
                              <td>2017-09</td>
                              <td>2089</td>
                            </tr>
                            <tr>
                              <td>2017-09</td>
                              <td>2089</td>
                            </tr>
                          </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <footer>
                <hr>
                <!-- Purchase a site license to remove this link from the footer: http://www.portnine.com/bootstrap-themes -->
                <p class="pull-right">陕ICP备17018219号-1</p>
                <p>2017 © <a href="http://www.weilaixiansen.com" target="_blank">西安未来鲜森智能信息技术有限公司</a></p>
            </footer>
        </div>
    </div>
    <script type="text/javascript">
        let commonStore = null; //全局配置信息
        /*获取全局配置数据信息,然后调用初始化方法*/
        function getCommonStore() {
            $.ajax({
                url: 'data/commonData.json',
                type: 'GET'
            }).then( function(res) {
                commonStore = res;
                drawNavbar(commonStore);
                Init(commonStore);
            })
        }
        getCommonStore(); //获取全局数据


        //饼状图数据
        const homePieData = {
            title: '2018年销售统计',
            name: 'wlxs',
            item: [
                {
                    name: '酸奶',
                    y: 56
                },
                {
                    name: '乐虎',
                    y: 24.03,
                    sliced: true,
                    selected: true
                },
                {
                    name: '果汁',
                    y: 10.38
                },
                {
                    name: '三明治',
                    y: 4.77
                },
                {
                    name: '水果',
                    y: 0.91
                },
                {
                    name: '盒饭',
                    y: 0.2
                }
            ]
        };
        //柱状图数据
        let colData = {
            title: '2017年度供应统计',//标题
            subtitle: '统计参考数据', //副标题
            //x轴
            categories: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
            //y轴
            yAsix: '数量 (K)',
            mainData: [
                {
                name: '红牛',
                data: [49, 71, 106, 129, 144, 176, 135, 148, 216, 194, 95, 54],
                color: '#e4d354'
            },
                {
                name: '三明治',
                data: [83, 78, 98, 93, 106, 84, 105, 104, 91, 83, 106, 92],
                color: '#2b908f'
            },
                {
                name: '蛋糕',
                data: [48, 38, 39, 41, 47, 48, 59, 59, 52, 65, 59, 51],
                color: '#90ed7d'
            },
                {
                name: '水果',
                data: [42, 33, 34, 39, 52, 75, 57, 60, 47, 39, 46, 51],
                color: '#8085e9'
            }
            ]
        };


        /* 初始化方法 */
        function Init(commonStore) {
            //鼠标右键禁用
            document.body.oncontextmenu = function() {
                return false;
            };


            drawPie('container1', homePieData);
            drawPie('container2', homePieData, 'pie');


            drawColumn('container3', colData, 'column');
            drawColumn('container4', colData);
    }
      // 柱状图改变数据操作
        $('.mulSubmit').click(function() {
            colData.mainData = [];
            let optsArray = [];
            $('#multiple option:selected').each(function (index, value) {
                optsArray.push($('#multiple option:selected').eq(index).val());
            });

            for(let i = 0; i < optsArray.length; i++) {
                let obj = {};
                obj.name = optsArray[i];
                obj.data = [42, 33, 34, 39, 52, 75, 57, 60, 47, 39, 46, 51];
                obj.color = commonStore.colorArray[i];
                colData.mainData.push(obj);
            }
            drawColumn('container3', colData, 'column');
        });

        //饼图改变数据操作
        $('#pie1').change( function() {
            let selectDate = $(this).val();
            drawPie('container1', homePieData);
            drawPie('container2', homePieData, 'pie');
            //请求数据
            $.ajax({
                url: '',
                type: 'POST',
                data: {selectDate: selectDate},
                success: function(res) {

                },
                error: function(error) {

                }
            });
        });
    </script>
  </body>
</html>
